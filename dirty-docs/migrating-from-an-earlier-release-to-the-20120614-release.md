+--------------------------------------------------------------------------+
<div class="pageheader">

<span class="pagetitle"> SmartOS Documentation : Migrating from an
earlier release to the 20120614 Release </span>

</div>

<div class="pagesubheading">

This page last changed on Jun 18, 2012 by
<font color="#0050B2">nahamu</font>.

</div>

One of the key changes In the 20120614 release was the renaming of
"dsadm" to "imgadm". In addition, the metadata store changed filename
conventions and location. Currently, no tools exist to help with a
migration. So, here are the steps to take to migrate your old "dsadm"
data so that "imgadm" can find it:

<div class="panelMacro">

  ----------------------------------------------------------------- ----
------------------------------------------------------------------------
--------------------------------------------------------------------
  ![](images/icons/emoticons/warning.gif){width="16" height="16"}   Thes
e instructions are ONLY for use on a system that previously ran a releas
e prior to 20120614 and has just been booted on 20120614 or later.
  ----------------------------------------------------------------- ----
------------------------------------------------------------------------
--------------------------------------------------------------------

</div>

<div class="code panel" style="border-width: 1px;">

<div class="codeContent panelContent">

<div id="root">

``` {.theme: .Confluence; .brush: .java; .gutter: .false}
mkdir -p /var/db/imgadm
cp /var/db/dsadm/* /var/db/imgadm/
cd /var/db/imgadm
mv dscache.json imgcache.json
for manifest in *.dsmanifest; do mv $manifest ${manifest/dsmanifest/json
}; done;
```

</div>

</div>

</div>

Once you are satisfied that imgadm is working, you can delete
`/var/db/dsadm`.
+--------------------------------------------------------------------------+

  ----------------------------------------------------------------------------------
  ![](images/border/spacer.gif){width="1" height="1"}
  <font color="grey">Document generated by Confluence on Jul 07, 2019 00:15</font>
  ----------------------------------------------------------------------------------


